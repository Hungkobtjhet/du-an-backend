generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model blogs {
  id         Int       @id @default(autoincrement())
  name       String
  content    String
  image      String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model cache {
  key        String @id
  value      String
  expiration Int
}

model cache_locks {
  key        String @id
  owner      String
  expiration Int
}

model categories {
  id         Int       @id @default(autoincrement())
  name       String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  menus      menus[]
}

model customers {
  id           Int       @id @default(autoincrement())
  name         String?
  email        String?
  phone_number String?
  address      String?
  created_at   DateTime? @default(now())
  updated_at   DateTime? @updatedAt
  orders       orders[]
}

model failed_jobs {
  id         Int      @id @default(autoincrement())
  uuid       String   @unique(map: "failed_jobs_uuid_unique")
  connection String
  queue      String
  payload    String
  exception  String
  failed_at  DateTime @default(now())
}

model job_batches {
  id             String  @id
  name           String
  total_jobs     Int
  pending_jobs   Int
  failed_jobs    Int
  failed_job_ids String
  options        String?
  cancelled_at   Int?
  created_at     Int
  finished_at    Int?
}

model jobs {
  id           Int    @id @default(autoincrement())
  queue        String
  payload      String
  attempts     Int
  reserved_at  Int?
  available_at Int
  created_at   Int

  @@index([queue], map: "jobs_queue_index")
}

model live_chat_scripts {
  id          Int       @id @default(autoincrement())
  name        String
  script_code String
  created_at  DateTime? @default(now())
  updated_at  DateTime? @updatedAt
}

model menus {
  id          Int        @id @default(autoincrement())
  name        String
  description String
  price       Decimal
  image       String
  category_id Int
  created_at  DateTime?  @default(now())
  updated_at  DateTime?  @updatedAt
  categories  categories @relation(fields: [category_id], references: [id], onDelete: Cascade, onUpdate: Restrict)

  @@index([category_id], map: "menus_category_id_foreign")
}

model migrations {
  id        Int    @id @default(autoincrement())
  migration String
  batch     Int
}

model order_items {
  id         Int       @id @default(autoincrement())
  menu_name  String
  order_id   Int
  quantity   Int
  subtotal   Decimal
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  orders     orders    @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: Restrict)

  @@index([order_id], map: "order_items_order_id_foreign")
}

model order_settings {
  id                      Int       @id @default(autoincrement())
  price_per_mile          Decimal
  distance_limit_in_miles Int
  created_at              DateTime? @default(now())
  updated_at              DateTime? @updatedAt
}

model orders {
  id                                     Int           @id @default(autoincrement())
  order_no                               String
  customer_id                            Int?
  order_type                             String
  created_by_user_id                     Int?
  updated_by_user_id                     Int?
  total_price                            Decimal
  status                                 String        @default("pending")
  status_online_pay                      String?
  session_id                             String?
  payment_method                         String
  additional_info                        String?
  delivery_fee                           Decimal?
  delivery_distance                      String?
  price_per_mile                         Decimal?
  created_at                             DateTime?     @default(now())
  updated_at                             DateTime?     @updatedAt
  order_items                            order_items[]
  users_orders_created_by_user_idTousers users?        @relation("orders_created_by_user_idTousers", fields: [created_by_user_id], references: [id], onDelete: Cascade, onUpdate: Restrict)
  customers                              customers?    @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: Restrict)
  users_orders_updated_by_user_idTousers users?        @relation("orders_updated_by_user_idTousers", fields: [updated_by_user_id], references: [id], onDelete: Cascade, onUpdate: Restrict)

  @@index([created_by_user_id], map: "orders_created_by_user_id_foreign")
  @@index([customer_id], map: "orders_customer_id_foreign")
  @@index([updated_by_user_id], map: "orders_updated_by_user_id_foreign")
}

model password_reset_tokens {
  email      String    @id
  token      String
  created_at DateTime? @default(now())
}

model privacy_policies {
  id         Int       @id @default(autoincrement())
  content    String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model restaurant_addresses {
  id         Int       @id @default(autoincrement())
  address    String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model restaurant_phone_numbers {
  id           Int       @id @default(autoincrement())
  phone_number String
  use_whatsapp Int       @default(0)
  created_at   DateTime? @default(now())
  updated_at   DateTime? @updatedAt
}

model restaurant_working_hours {
  id            Int       @id @default(autoincrement())
  working_hours String
  created_at    DateTime? @default(now())
  updated_at    DateTime? @updatedAt
}

model sessions {
  id            String  @id
  user_id       Int?
  ip_address    String?
  user_agent    String?
  payload       String
  last_activity Int

  @@index([last_activity], map: "sessions_last_activity_index")
  @@index([user_id], map: "sessions_user_id_index")
}

model site_settings {
  id              Int       @id @default(autoincrement())
  country         String?
  currency_symbol String?
  currency_code   String?
  created_at      DateTime? @default(now())
  updated_at      DateTime? @updatedAt
}

model social_media_handles {
  id           Int       @id @default(autoincrement())
  handle       String
  social_media String
  created_at   DateTime? @default(now())
  updated_at   DateTime? @updatedAt
}

model table_bookings {
  id         Int       @id @default(autoincrement())
  name       String
  email      String
  phone      String
  date       DateTime
  time       String
  persons    Int
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model terms_and_conditions {
  id         Int       @id @default(autoincrement())
  content    String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model testimonies {
  id         Int       @id @default(autoincrement())
  name       String
  content    String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
}

model users {
  id                                      Int       @id @default(autoincrement())
  first_name                              String
  middle_name                             String?
  last_name                               String
  email                                   String    @unique(map: "users_email_unique")
  password                                String
  role                                    String    @default("admin")
  status                                  Int       @default(0)
  notice                                  String?
  phone_number                            String?
  address                                 String?
  profile_picture                         String?
  activation_token                        String?
  remember_token                          String?
  two_factor_auth                         Int       @default(0)
  email_verified_at                       DateTime?
  created_at                              DateTime? @default(now())
  updated_at                              DateTime? @updatedAt
  orders_orders_created_by_user_idTousers orders[]  @relation("orders_created_by_user_idTousers")
  orders_orders_updated_by_user_idTousers orders[]  @relation("orders_updated_by_user_idTousers")
}