generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model blogs {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String    @db.VarChar(255)
  content    String    @db.Text
  image      String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model cache {
  key        String @id @db.VarChar(255)
  value      String @db.MediumText
  expiration Int
}

model cache_locks {
  key        String @id @db.VarChar(255)
  owner      String @db.VarChar(255)
  expiration Int
}

model categories {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  menus      menus[]
}

model customers {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name         String?   @db.VarChar(255)
  email        String?   @db.VarChar(255)
  phone_number String?   @db.VarChar(255)
  address      String?   @db.VarChar(255)
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  orders       orders[]
}

model failed_jobs {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  uuid       String   @unique(map: "failed_jobs_uuid_unique") @db.VarChar(255)
  connection String   @db.Text
  queue      String   @db.Text
  payload    String   @db.LongText
  exception  String   @db.LongText
  failed_at  DateTime @default(now()) @db.Timestamp(0)
}

model job_batches {
  id             String  @id @db.VarChar(255)
  name           String  @db.VarChar(255)
  total_jobs     Int
  pending_jobs   Int
  failed_jobs    Int
  failed_job_ids String  @db.LongText
  options        String? @db.MediumText
  cancelled_at   Int?
  created_at     Int
  finished_at    Int?
}

model jobs {
  id           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  queue        String @db.VarChar(255)
  payload      String @db.LongText
  attempts     Int    @db.UnsignedTinyInt
  reserved_at  Int?   @db.UnsignedInt
  available_at Int    @db.UnsignedInt
  created_at   Int    @db.UnsignedInt

  @@index([queue], map: "jobs_queue_index")
}

model live_chat_scripts {
  id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name        String    @db.VarChar(255)
  script_code String    @db.Text
  created_at  DateTime? @db.Timestamp(0)
  updated_at  DateTime? @db.Timestamp(0)
}

model menus {
  id          BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  name        String     @db.VarChar(255)
  description String     @db.Text
  price       Decimal    @db.Decimal(10, 2)
  image       String     @db.VarChar(255)
  category_id BigInt     @db.UnsignedBigInt
  created_at  DateTime?  @db.Timestamp(0)
  updated_at  DateTime?  @db.Timestamp(0)
  categories  categories @relation(fields: [category_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "menus_category_id_foreign")

  @@index([category_id], map: "menus_category_id_foreign")
}

model migrations {
  id        Int    @id @default(autoincrement()) @db.UnsignedInt
  migration String @db.VarChar(255)
  batch     Int
}

model order_items {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  menu_name  String    @db.VarChar(255)
  order_id   BigInt    @db.UnsignedBigInt
  quantity   Int
  subtotal   Decimal   @db.Decimal(10, 2)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  orders     orders    @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "order_items_order_id_foreign")

  @@index([order_id], map: "order_items_order_id_foreign")
}

model order_settings {
  id                      BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  price_per_mile          Decimal   @db.Decimal(8, 2)
  distance_limit_in_miles Int
  created_at              DateTime? @db.Timestamp(0)
  updated_at              DateTime? @db.Timestamp(0)
}

model orders {
  id                                     BigInt                    @id @default(autoincrement()) @db.UnsignedBigInt
  order_no                               String                    @db.VarChar(255)
  customer_id                            BigInt?                   @db.UnsignedBigInt
  order_type                             orders_order_type
  created_by_user_id                     BigInt?                   @db.UnsignedBigInt
  updated_by_user_id                     BigInt?                   @db.UnsignedBigInt
  total_price                            Decimal                   @db.Decimal(10, 2)
  status                                 orders_status             @default(pending)
  status_online_pay                      orders_status_online_pay?
  session_id                             String?                   @db.VarChar(255)
  payment_method                         String                    @db.VarChar(255)
  additional_info                        String?                   @db.VarChar(255)
  delivery_fee                           Decimal?                  @db.Decimal(8, 2)
  delivery_distance                      String?                   @db.VarChar(255)
  price_per_mile                         Decimal?                  @db.Decimal(8, 2)
  created_at                             DateTime?                 @db.Timestamp(0)
  updated_at                             DateTime?                 @db.Timestamp(0)
  order_items                            order_items[]
  users_orders_created_by_user_idTousers users?                    @relation("orders_created_by_user_idTousers", fields: [created_by_user_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "orders_created_by_user_id_foreign")
  customers                              customers?                @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "orders_customer_id_foreign")
  users_orders_updated_by_user_idTousers users?                    @relation("orders_updated_by_user_idTousers", fields: [updated_by_user_id], references: [id], onDelete: Cascade, onUpdate: Restrict, map: "orders_updated_by_user_id_foreign")

  @@index([created_by_user_id], map: "orders_created_by_user_id_foreign")
  @@index([customer_id], map: "orders_customer_id_foreign")
  @@index([updated_by_user_id], map: "orders_updated_by_user_id_foreign")
}

model password_reset_tokens {
  email      String    @id @db.VarChar(255)
  token      String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)
}

model privacy_policies {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  content    String    @db.Text
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model restaurant_addresses {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  address    String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model restaurant_phone_numbers {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  phone_number String    @db.VarChar(255)
  use_whatsapp Int       @default(0)
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
}

model restaurant_working_hours {
  id            BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  working_hours String    @db.VarChar(255)
  created_at    DateTime? @db.Timestamp(0)
  updated_at    DateTime? @db.Timestamp(0)
}

model sessions {
  id            String  @id @db.VarChar(255)
  user_id       BigInt? @db.UnsignedBigInt
  ip_address    String? @db.VarChar(45)
  user_agent    String? @db.Text
  payload       String  @db.LongText
  last_activity Int

  @@index([last_activity], map: "sessions_last_activity_index")
  @@index([user_id], map: "sessions_user_id_index")
}

model site_settings {
  id              BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  country         String?   @db.VarChar(255)
  currency_symbol String?   @db.VarChar(10)
  currency_code   String?   @db.VarChar(10)
  created_at      DateTime? @db.Timestamp(0)
  updated_at      DateTime? @db.Timestamp(0)
}

model social_media_handles {
  id           BigInt                            @id @default(autoincrement()) @db.UnsignedBigInt
  handle       String                            @db.VarChar(255)
  social_media social_media_handles_social_media
  created_at   DateTime?                         @db.Timestamp(0)
  updated_at   DateTime?                         @db.Timestamp(0)
}

model table_bookings {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String    @db.VarChar(255)
  email      String    @db.VarChar(255)
  phone      String    @db.VarChar(255)
  date       DateTime  @db.Date
  time       String    @db.VarChar(255)
  persons    Int
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model terms_and_conditions {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  content    String    @db.Text
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model testimonies {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String    @db.VarChar(255)
  content    String    @db.Text
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model users {
  id                                      BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  first_name                              String     @db.VarChar(255)
  middle_name                             String?    @db.VarChar(255)
  last_name                               String     @db.VarChar(255)
  email                                   String     @unique(map: "users_email_unique") @db.VarChar(255)
  password                                String     @db.VarChar(255)
  role                                    users_role @default(admin)
  status                                  Int        @default(0) @db.TinyInt
  notice                                  String?    @db.Text
  phone_number                            String?    @db.VarChar(255)
  address                                 String?    @db.Text
  profile_picture                         String?    @db.VarChar(255)
  activation_token                        String?    @db.VarChar(60)
  remember_token                          String?    @db.VarChar(100)
  two_factor_auth                         Int        @default(0) @db.TinyInt
  email_verified_at                       DateTime?  @db.Timestamp(0)
  created_at                              DateTime?  @db.Timestamp(0)
  updated_at                              DateTime?  @db.Timestamp(0)
  orders_orders_created_by_user_idTousers orders[]   @relation("orders_created_by_user_idTousers")
  orders_orders_updated_by_user_idTousers orders[]   @relation("orders_updated_by_user_idTousers")
}

enum social_media_handles_social_media {
  facebook
  instagram
  youtube
  tiktok
}

enum orders_order_type {
  online
  instore
}

enum users_role {
  admin
  global_admin
}

enum orders_status {
  pending
  completed
  cancelled
}

enum orders_status_online_pay {
  paid
  unpaid
}
